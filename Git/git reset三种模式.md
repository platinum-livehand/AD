## Git Reset三种模式

​	git reset 有三种模式，`soft`，`mixed`，`hard`。

![](..\picture\git reset-1.png)

![](..\picture\git reset-2.png)

## git reset --hard

​	`git reset --hard`会重置 HEAD 和 branch 的同时，重置暂存区和工作目录里的内容。你的暂存区和工作目录中的内容会被完全重置为和 HEAD 的新位置相同的内容。

![](..\picture\git reset-5.png)

## git reset --soft

​	`git reset --soft`会重置 HEAD 和 branch 的同时，**保留工作目录和暂存区的内容**，并**把重置 HEAD 所带来的新差异放进暂存区**。

![](..\picture\git reset-3.png)

### 使用场景

1. **合并提交**，你可能在短时间内做了多个小提交，但希望在推送到远程仓库前将它们合并成一个提交，以保持提交历史的整洁。
2. **修正上次提交**，如果你在上次提交后发现遗漏了一些更改，可以使用`git reset --soft HEAD^`回退到上次提交前的状态，然后添加遗漏的更改并重新提交。
3. **改变提交消息**，如果提交消息有无，可以使用`git reset --soft` 回退到该提交之前，然后重新提交并指定新的提交消息。

## git reset --mixed

​	`git reset --mixed`会将当前分支的 HEAD 指针移动到指定的提交，**同时保留工作区的更改**。

![](..\picture\git reset-4.png)

1. **撤销提交但保留更改**，你可能已经做了一个或多个提交，但后来发现这些提交有问题，需要重新调整这些更改。在这种情况下，你可以使用 `git reset --mixed`撤销这些提交，同时保留工作区中的更改，以便你可以重新整理和提交。
2. **修正最近的提交**，如果你发现最近的提交有错误或者遗漏了部分更改，可以使用 `git reset --mixed`撤销最近的提交，然后修正这些错误或添加遗漏的更改，再次提交。
3. **重组提交历史**，在准备将更改推送到远程仓库之前，你可能需要重组提交历史，例如合并多个小的提交或重新排列提交顺序。`git reset --mixed` 可以帮助你撤销不需要的提交，同时保留所有的更改，以便你重新组织和提交。